# Primitive bash build system

# Clean
rm left.js right.js

# Build JSX -> JS
jsx < left.jsx > left.js
jsx < right.jsx > right.js
jsx < globals.jsx > globals.js

# Build parsers
pegjs -e ra_parser ra.pegjs
pegjs -e select_cond_parser select_cond.pegjs
pegjs -e proj_attr_list_parser proj_attr_list.pegjs

# Cat parsers into main.js
cat globals.js ra.js select_cond.js proj_attr_list.js > main.js

# Clean
rm ra.js globals.js

# Echo
echo Done building targets.